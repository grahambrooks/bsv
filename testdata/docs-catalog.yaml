# Catalog entities with TechDocs and ADR annotations for testing documentation browser

apiVersion: backstage.io/v1alpha1
kind: Domain
metadata:
  name: payments
  title: Payments Domain
  description: All payment-related systems and services
  annotations:
    backstage.io/techdocs-ref: dir:./docs/techdocs
spec:
  owner: group:platform-team

---
apiVersion: backstage.io/v1alpha1
kind: System
metadata:
  name: payment-processing
  title: Payment Processing System
  description: Core payment processing infrastructure
  annotations:
    backstage.io/techdocs-ref: dir:./docs/techdocs
    backstage.io/adr-location: docs/adr
spec:
  owner: group:platform-team
  domain: payments

---
apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  name: payment-service
  title: Payment Service
  description: REST API for payment operations
  tags:
    - rust
    - api
    - payments
  annotations:
    backstage.io/techdocs-ref: dir:./docs/techdocs
    github.com/project-slug: example/payment-service
  links:
    - url: https://github.com/example/payment-service
      title: GitHub Repository
      icon: github
    - url: https://api.example.com/payments/docs
      title: API Documentation
      icon: docs
    - url: https://grafana.example.com/d/payments
      title: Grafana Dashboard
      icon: dashboard
spec:
  type: service
  lifecycle: production
  owner: group:platform-team
  system: payment-processing
  providesApis:
    - payment-api
  dependsOn:
    - resource:payments-db
    - resource:payments-cache

---
apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  name: payment-webhook-processor
  title: Payment Webhook Processor
  description: Processes incoming payment provider webhooks
  tags:
    - rust
    - worker
    - payments
  annotations:
    backstage.io/adr-location: docs/adr
  links:
    - url: https://github.com/example/payment-webhooks
      title: Source Code
spec:
  type: service
  lifecycle: production
  owner: group:platform-team
  system: payment-processing
  dependsOn:
    - component:payment-service

---
apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  name: payment-api
  title: Payment REST API
  description: RESTful API for payment operations
  annotations:
    backstage.io/techdocs-ref: dir:./docs/techdocs
spec:
  type: openapi
  lifecycle: production
  owner: group:platform-team
  system: payment-processing
  definition: |
    openapi: 3.0.0
    info:
      title: Payment API
      version: 1.0.0

---
apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: payments-db
  title: Payments Database
  description: PostgreSQL database for payment transactions
spec:
  type: database
  owner: group:platform-team
  system: payment-processing

---
apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: payments-cache
  title: Payments Cache
  description: Redis cache for idempotency keys and sessions
spec:
  type: cache
  owner: group:platform-team
  system: payment-processing

---
apiVersion: backstage.io/v1alpha1
kind: Group
metadata:
  name: platform-team
  title: Platform Team
  description: Core platform engineering team
  annotations:
    backstage.io/adr-location: docs/adr
  links:
    - url: https://confluence.example.com/platform
      title: Team Confluence
    - url: https://slack.example.com/platform
      title: Slack Channel
spec:
  type: team
  children: []

---
apiVersion: backstage.io/v1alpha1
kind: User
metadata:
  name: jane.smith
  title: Jane Smith
spec:
  memberOf:
    - platform-team

---
apiVersion: backstage.io/v1alpha1
kind: User
metadata:
  name: john.doe
  title: John Doe
spec:
  memberOf:
    - platform-team
